# Pie3DChartV1 组件测试页面

## 概述

为 `src/components/Pie3DChartV1.vue` 组件创建了一个完整的测试页面，用于测试组件的各种功能和配置选项。

## 如何访问测试页面

### 方法1：通过URL参数访问（推荐）

1. 启动开发服务器：
   ```bash
   npm run dev
   ```

2. 在浏览器中访问：
   - 完整测试页面：`http://localhost:3000/?test=pie3d`
   - 简单测试页面：`http://localhost:3000/?test=simple`
   - 原始大屏页面：`http://localhost:3000/`

### 方法2：临时修改App.vue

如果需要直接替换主页面，可以临时修改 `src/App.vue`：

```vue
<template>
  <Pie3DChartTest />
</template>

<script setup>
import Pie3DChartTest from './pages/Pie3DChartTest.vue'
</script>
```

## 测试页面功能

测试页面包含以下测试模块：

### 1. 基础测试
- 使用默认配置的3D饼图
- 提供"更新数据"和"重置数据"按钮
- 测试数据响应性

### 2. 尺寸测试
- 测试不同的宽度和高度设置
- 支持像素值和百分比
- 实时调整图表尺寸

### 3. 内径比例测试
- 通过滑块调整内径比例（0-0.8）
- 实时预览内径变化效果
- 显示当前比例数值

### 4. 多种数据测试
- 默认数据：多个数据项
- 单个数据：测试单扇形效果
- 两个数据：测试对半分布
- 多个数据：测试6个数据项的复杂分布
- 显示当前数据集的JSON结构

### 5. 响应式测试
- 100%宽度的响应式图表
- 测试窗口大小变化时的适应性

## 组件属性说明

### Props

| 属性名 | 类型 | 默认值 | 说明 |
|--------|------|--------|------|
| `data` | Array | 默认数据 | 饼图数据数组 |
| `width` | String | '100%' | 图表宽度 |
| `height` | String | '400px' | 图表高度 |
| `internalDiameterRatio` | Number | 0.59 | 内径比例 |

### 数据格式

```javascript
[
  {
    name: '数据名称',
    value: 数值,
    itemStyle: {
      color: '颜色值'
    }
  }
]
```

## 交互功能

### 鼠标交互
- **点击**：选中/取消选中扇形（单选模式）
- **悬停**：高亮显示扇形（放大效果）
- **离开**：取消高亮效果

### 视觉效果
- 3D立体效果
- 选中时扇形外移
- 悬停时扇形放大
- 平滑的动画过渡

## 技术特性

- 基于 ECharts 和 echarts-gl
- Vue 3 Composition API
- 响应式数据绑定
- 自动窗口大小适应
- 内存泄漏防护（组件卸载时清理）

## 测试建议

1. **功能测试**：
   - 测试所有交互功能（点击、悬停）
   - 验证数据更新的响应性
   - 检查不同数据量的显示效果

2. **性能测试**：
   - 测试大量数据的渲染性能
   - 验证内存使用情况
   - 检查动画流畅度

3. **兼容性测试**：
   - 不同浏览器的兼容性
   - 不同屏幕尺寸的适应性
   - 移动设备的触摸交互

## 测试页面说明

### 完整测试页面 (Pie3DChartTest.vue)
- 包含所有测试功能模块
- 适合全面测试组件功能
- 访问：`?test=pie3d`

### 简单测试页面 (SimplePie3DTest.vue)
- 基础功能测试
- 快速验证组件是否正常工作
- 访问：`?test=simple`

## 文件结构

```
src/
├── components/
│   └── Pie3DChartV1.vue      # 3D饼图组件
├── pages/
│   ├── Pie3DChartTest.vue    # 完整测试页面
│   └── SimplePie3DTest.vue   # 简单测试页面
└── main.js                   # 修改了入口文件支持测试模式
```

## 注意事项

1. 确保已安装 `echarts` 和 `echarts-gl` 依赖
2. 测试页面仅用于开发和测试，不应部署到生产环境
3. 使用完测试后，记得恢复原始的 `main.js` 或通过正常URL访问主应用
